# 📚 文豪作品地図化システム（完全版）

> 日本文豪の作品から地名を抽出し、ジオコーディング情報付きの地図データを生成する高度なシステム

## 🎯 最新の特徴

### ✨ 完全カスタマイズ対応
- **文豪数制御**: 環境変数`MAX_AUTHORS`で簡単変更（1-15名）
- **対象作家選択**: リスト編集で自由に文豪を追加・変更
- **作品数調整**: 1作家あたり3-5作品まで設定可能
- **二重引用システム**: 地名文脈 + 印象的な本文引用

### 📊 実績データ
- **8名文豪テスト**: 92件の地図データ生成成功
- **ジオコーディング成功率**: 100%
- **対応文豪**: 夏目漱石、芥川龍之介、太宰治、川端康成、宮沢賢治、樋口一葉、森鴎外、石川啄木
- **データ構造**: 作者｜作品｜地名｜住所｜緯度経度｜文脈抜粋｜本文引用｜Google Maps URL

## 🚀 クイックスタート

### 1. 基本実行（5名の文豪）
```bash
python bungo_work_map_enhanced.py
```

### 2. 文豪数変更
```bash
# 8名の文豪で実行
export MAX_AUTHORS=8
python bungo_work_map_enhanced.py

# 10名の文豪で実行  
export MAX_AUTHORS=10
python bungo_work_map_enhanced.py
```

### 3. 対象文豪のカスタマイズ
`bungo_work_map_enhanced.py`の77-82行目を編集：
```python
authors = [
    "夏目漱石", "芥川龍之介", "太宰治", "川端康成", "宮沢賢治",
    "樋口一葉", "森鴎外", "石川啄木", "与謝野晶子", "正岡子規",
    "島崎藤村", "国木田独歩", "泉鏡花", "徳田秋声", "田山花袋"
]
```

## 📁 出力ファイル

### `bungo_enhanced_work_places.csv`
- **形式**: UTF-8 CSV
- **列数**: 11列（作者、作品タイトル、地名、住所、緯度、経度、作品内容抜粋、本文引用、文脈説明、Google Maps URL、ジオコーディング成功フラグ）
- **データ例**:
```csv
author,work_title,place_name,address,latitude,longitude,content_excerpt,text_quote,context,maps_url,geocoded
夏目漱石,坊っちゃん,松山市,"松山市, 愛媛県, 日本",33.8395188,132.7653521,四国は松山の中学校に数学の教師として赴任することになった。,親譲りの無鉄砲で小供の時から損ばかりしている。,「坊っちゃん」に登場する松山市,https://www.google.com/maps/search/松山市,True
```

## 🔧 高度なカスタマイズ

### 作品数の変更
112行目のLLMプロンプトを編集：
```python
prompt = f"""
以下の文豪のWikipedia記事から、代表作品を5つまで抽出してください。  # 3つ→5つに変更
```

### 特定テーマの文豪グループ
```python
# 女性作家特集
authors = ["樋口一葉", "与謝野晶子", "林芙美子", "宇野千代", "円地文子"]

# 関西文豪特集  
authors = ["谷崎潤一郎", "井原西鶴", "近松門左衛門", "織田作之助", "坂口安吾"]

# 明治文豪特集
authors = ["夏目漱石", "森鴎外", "樋口一葉", "石川啄木", "正岡子規"]
```

## 🌍 活用アイデア

- **📚 文学観光マップ**: 作品の舞台を実際に訪れる
- **🎓 教育用データセット**: 文学と地理の融合学習  
- **🗾 地域活性化**: 文豪ゆかりの地めぐり企画
- **📱 アプリ開発**: 文学散歩ガイドアプリのデータベース

## 📊 技術仕様

- **言語**: Python 3.7+
- **ジオコーディング**: geopy (Nominatim) + フォールバック座標DB
- **LLM統合**: OpenAI GPT-3.5-turbo（オプション）
- **データ形式**: UTF-8 CSV、完全にExcel/Google Sheets互換
- **拡張性**: 15名まで対応、無制限に拡張可能

## 🎉 成果

**現在の実績**: 8名の文豪から92件の高品質地図データを生成成功
- 文豪数・作品数の完全カスタマイズ対応
- 100%のジオコーディング成功率
- 二重引用システムによる豊富なコンテンツ
- Google Sheets完全連携

---

**🔮 次の展開**: Webアプリ化、地図可視化、多言語対応... 